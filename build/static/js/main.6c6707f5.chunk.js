(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(14),o=t.n(a),i=(t(19),t(3)),u=t(0),s=function(e){var n=e.addPerson,t=e.handleNameChange,r=e.handleNumberChange,c=e.newName,a=e.newNumber;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{onChange:t,value:c})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{onChange:r,value:a})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.searchVal,t=e.handleFilterChange;return Object(u.jsxs)("div",{children:["filter shown with",Object(u.jsx)("input",{onChange:t,value:n})]})},l=t(4),h=t.n(l),j="/api/persons",b=function(){return h.a.get(j).then((function(e){return e.data})).catch((function(e){alert("There was a server error. Please retry.",e)}))},f=function(e){return h.a.post(j,e).then((function(e){return e.data})).catch((function(e){alert("There was a server error. Please retry.",e)}))},m=function(e,n){return h.a.put("".concat(j,"/").concat(e),n).then((function(e){return e.data}))},O=function(e){return h.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data})).catch((function(e){alert("There was a server error. Please retry.",e)}))},v=function(e){var n=e.person,t=e.renderContacts;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[n.name," ",n.number,Object(u.jsx)("button",{onClick:function(){return function(e,n){window.confirm("Delete ".concat(e.name,"?"))&&O(e.id).then(n)}(n,t)},children:"delete"})]})})},p=function(e){var n=e.filteredPeople,t=e.renderContacts;return n.map((function(e){return Object(u.jsx)(v,{renderContacts:t,person:e},e.id)}))},x=(t(39),function(e){var n=e.message,t=e.typeOfClass;return null===n?null:Object(u.jsx)("div",{className:t,children:n})}),g=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),l=o[0],h=o[1],j=Object(r.useState)(""),O=Object(i.a)(j,2),v=O[0],g=O[1],C=Object(r.useState)(""),w=Object(i.a)(C,2),y=w[0],N=w[1],P=Object(r.useState)(""),S=Object(i.a)(P,2),k=S[0],F=S[1],T=Object(r.useState)(""),L=Object(i.a)(T,2),D=L[0],I=L[1],B=function(){b().then((function(e){return c(e)}))};Object(r.useEffect)(B,[]);var E=t.filter((function(e){return e.name.toLowerCase().trim().includes(y.toLowerCase().trim())})),J=function(e){f(e).then((function(e){return c(t.concat(e))})).then((function(){F(l+" added!"),setTimeout((function(){F("")}),3e3)}))},V=function(e,n){m(e,n).then(B).catch((function(e){I("Information of ".concat(n.name," has already been removed from server")),setTimeout((function(){I("")}),3e3)}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),k&&Object(u.jsx)(x,{message:k,typeOfClass:"success"}),D&&Object(u.jsx)(x,{message:D,typeOfClass:"error"}),Object(u.jsx)(d,{searchVal:y,handleFilterChange:function(e){N(e.target.value)}}),Object(u.jsx)(s,{addPerson:function(e){if(e.preventDefault(),l&&v){var n={name:l,number:v},r=t.find((function(e){return e.name===l}));(null===r||void 0===r?void 0:r.id)?window.confirm("".concat(r.name," is already added to phonebook, replace old number with new one?"))&&V(r.id,n):J(n),h(""),g("")}},handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){g(e.target.value)},newName:l,newNumber:v}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(p,{renderContacts:B,filteredPeople:E})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),C()}},[[40,1,2]]]);
//# sourceMappingURL=main.6c6707f5.chunk.js.map